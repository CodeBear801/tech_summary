
- [Contribution Guidelines](#contribution-guidelines)
  - [Pull Request Target Branch](#pull-request-target-branch)
  - [C++ Coding Guidelines](#c-coding-guidelines)
  - [Golang Coding Guidelines](#golang-coding-guidelines)
  - [Pull Request Guidelines](#pull-request-guidelines)
  - [Commit Message Guideline](#commit-message-guideline)
  - [Git branch Guideline](#git-branch-guideline)
  - [How to report a bug](#how-to-report-a-bug)
  - [Communications](#communications)

# Contribution Guidelines

## Pull Request Target Branch
- `master`     
(The `master-projectosrm` will be kept to sync with [Project-OSRM/osrm-backend](https://github.com/Project-OSRM/osrm-backend))

## C++ Coding Guidelines
- [Project-OSRM/osrm-backend Coding Standards](https://github.com/Project-OSRM/osrm-backend/wiki/Coding-Standards)


## Golang Coding Guidelines
- All `golang` codes should be formatted by `goreturns` before create PR.      
  - Suggest to setup `goreturns` as the default `golang` format tool in your IDE. (Refer to [#45](https://github.com/Telenav/osrm-backend/issues/45) for some discussion).      
  - DONOT need to format third-party generated codes(e.g. generated by `thrift` or `protoc`)
- Follow suggestions in [Go Code Review Comments](https://github.com/golang/go/wiki/CodeReviewComments).    

## Pull Request Guidelines 
- [Project-OSRM/osrm-backend Code Review](https://github.com/Project-OSRM/osrm-backend/wiki/Code-Review)
- [What to look for in a code review](https://google.github.io/eng-practices/review/reviewer/looking-for.html)    
- Here is a general rule for your reference
```
#1. List the issue
#2. Tasklist
    - API design
    -  Write failing unit tests for new parameters
    -  Make unit tests pass
    -  Write failing cuke tests
    -  Write code
    -  Review
    -  Adjust for comments
#3. Code Review Checklist - author check these when done, reviewer verify
    -  Code formatted with scripts/format.sh
    -  Changes have test coverage
    -  New exceptions, logging, errors - are messages distinct enough to track down in the code if they get thrown in production on non-debug builds?
    -  The PR is one logically integrated piece of work. If there are unrelated changes, are they at least separate commits?
    -  Commit messages - are they clear enough to understand the intent of the change if we have to look at them later?
    -  Code comments - are there comments explaining the intent?
    -  Relevant docs updated
    -  Changelog entry if required
    -  Impact on the API surface
        -  If HTTP/libosrm.o is backward compatible features, bump the minor version
        -  File format changes require at minor release
        -  If old clients can't use the API after changes, bump the major version
```
- Examples: [OSRM-3408](https://github.com/Project-OSRM/osrm-backend/pull/3408), [ROCKSDB-3009](https://github.com/facebook/rocksdb/pull/3009), [Turfjs-832](https://github.com/Turfjs/turf/pull/832)

## Commit Message Guideline
- [AngularJS Git Commit Message Conventions](https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0)
  - [Commit message 和 Change log 编写指南(CN) - by ruanyifeng](http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html)

## Git branch Guideline
- [A successful git branching model](https://nvie.com/posts/a-successful-git-branching-model/)

## How to report a bug
- The first aim of a bug report is to let the programmer see the failure with their own eyes. If you can't be with them to make it fail in front of them, give them detailed instructions so that they can make it fail for themselves.
- In case the first aim doesn't succeed, and the programmer can't see it failing themselves, the second aim of a bug report is to describe what went wrong. Describe everything in detail. State what you saw, and also state what you expected to see. Write down the error messages, especially if they have numbers in.
- When your computer does something unexpected, freeze. Do nothing until you're calm, and don't do anything that you think might be dangerous.
- By all means try to diagnose the fault yourself if you think you can, but if you do, you should still report the symptoms as well.
- Be ready to provide extra information if the programmer needs it. If they didn't need it, they wouldn't be asking for it. They aren't being deliberately awkward. Have version numbers at your fingertips, because they will probably be needed.
- Write clearly. Say what you mean, and make sure it can't be misinterpreted.
- Above all, be precise. Programmers like precision.  
(from Simon Tatham)
## Communications
- [15 rules for communicating at GitHub](https://ben.balter.com/2014/11/06/rules-of-communicating-at-github/)
