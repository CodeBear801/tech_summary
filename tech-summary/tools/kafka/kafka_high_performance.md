# The secret behind Kafka's performance

## Write ahead long

## Keep sequence

## Window and trigger

## Sendfile

[`SendFile`](https://zhuanlan.zhihu.com/p/78335525)   


<img src="../resources/kafka_design_guojun_kafka_partition_write3.png" alt="kafka_design_guojun_kafka_partition_write3.png" width="600"/>
<br/>

<img src="../resources/kafka_design_guojun_kafka_partition_write4.png" alt="kafka_design_guojun_kafka_partition_write4.png" width="600"/>
<br/>

<img src="../resources/kafka_design_guojun_kafka_partition_write5.png" alt="kafka_design_guojun_kafka_partition_write5.png" width="600"/>
<br/>

<img src="../resources/kafka_design_guojun_kafka_partition_write6.png" alt="kafka_design_guojun_kafka_partition_write6.png" width="600"/>
<br/>

## Network optimization


<img src="https://user-images.githubusercontent.com/16873751/106366967-1479c900-62f4-11eb-95ef-2dfed79a135f.png
" alt="kafka_design_guojun_kafka_partition_write6.png" width="600"/>
<br/>

image from: [Kafka 处理请求的全流程解析](https://xie.infoq.cn/article/51b8d97925e0a7303ff831a81)




